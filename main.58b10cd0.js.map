{"version":3,"sources":["scripts/main.js"],"names":["lastButton","FIRST_PROMISE","resolve","reject","reject_time","SECOND_PROMISE","THIRD_PROMISE","onlyOnce","once","createDiv","text","classNames","el","document","createElement","dataset","qa","textContent","classList","body","append","firstPromise","Promise","addEventListener","setTimeout","Error","secondPromise","button","includes","thirdPromise","mouseHandler","removeEventListener","then","result","catch","error"],"mappings":";AAAA,aAEA,IAgBIA,EAhBEC,EAAgB,CACpBC,QAAS,wBACTC,OAAQ,6BACRC,YAAa,KAETC,EAAiB,CACrBH,QAAS,+BAELI,EAAgB,CACpBJ,QAAS,8BAGLK,EAAW,CACfC,MAAM,GAKR,SAASC,IAAUC,IAAAA,EAAO,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAIC,EAAa,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GACnCC,EAAKC,SAASC,cAAc,OAElCF,EAAGG,QAAQC,GAAK,eAChBJ,EAAGK,YAAcP,EACjBE,EAAGM,UAAYP,EACfE,SAASM,KAAKC,OAAOR,GAGvB,IAAMS,EAAe,IAAIC,QAAQ,SAACpB,EAASC,GACzCU,SAASU,iBAAiB,QAAS,WACjCrB,OAAAA,EAAQD,EAAcC,UAAUK,GAElCiB,WAAW,WAAMrB,OAAAA,EAAO,IAAIsB,MAAMxB,EAAcE,UAC9CF,EAAcG,eAGZsB,EAAgB,IAAIJ,QAAQ,SAAApB,GAChCW,SAASU,iBAAiB,YAAa,SAAgB,GAAbI,IAAAA,EAAAA,EAAAA,OACpC,CAAC,EAAG,GAAGC,SAASD,KAClBzB,EAAQG,EAAeH,SACvBF,EAAa2B,IAEdpB,KAGCsB,EAAe,IAAIP,QAAQ,SAACpB,GAQhCW,SAASU,iBAAiB,YAPL,SAAfO,EAA+B,GAAbH,IAAAA,EAAAA,EAAAA,OAClB,CAAC,EAAG,GAAGC,SAASD,IAAWA,IAAW3B,IACxCE,EAAQI,EAAcJ,SACtBW,SAASkB,oBAAoB,YAAaD,QAOhDT,EACGW,KAAK,SAAAC,GAAUxB,OAAAA,EAAUwB,EAAQ,aACjCC,MAAM,SAAAC,GAAS1B,OAAAA,EAAU0B,EAAO,aAEnCT,EACGM,KAAK,SAAAC,GAAUxB,OAAAA,EAAUwB,EAAQ,aACjCD,KAAK,WAAMH,OAAAA,IACXG,KAAK,SAAAC,GAAUxB,OAAAA,EAAUwB,EAAQ","file":"main.58b10cd0.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst FIRST_PROMISE = {\n  resolve: 'First promise resolve',\n  reject: 'First promise was rejected',\n  reject_time: 3000,\n};\nconst SECOND_PROMISE = {\n  resolve: 'Second promise was resolved',\n};\nconst THIRD_PROMISE = {\n  resolve: 'Third promise was resolved',\n};\n\nconst onlyOnce = {\n  once: true,\n};\n\nlet lastButton;\n\nfunction createDiv(text = '', classNames = '') {\n  const el = document.createElement('div');\n\n  el.dataset.qa = 'notification';\n  el.textContent = text;\n  el.classList = classNames;\n  document.body.append(el);\n}\n\nconst firstPromise = new Promise((resolve, reject) => {\n  document.addEventListener('click', () =>\n    resolve(FIRST_PROMISE.resolve), onlyOnce);\n\n  setTimeout(() => reject(new Error(FIRST_PROMISE.reject)),\n    FIRST_PROMISE.reject_time);\n});\n\nconst secondPromise = new Promise(resolve => {\n  document.addEventListener('mousedown', ({ button }) => {\n    if ([0, 2].includes(button)) {\n      resolve(SECOND_PROMISE.resolve);\n      lastButton = button;\n    };\n  }, onlyOnce);\n});\n\nconst thirdPromise = new Promise((resolve) => {\n  const mouseHandler = ({ button }) => {\n    if ([0, 2].includes(button) && button !== lastButton) {\n      resolve(THIRD_PROMISE.resolve);\n      document.removeEventListener('mousedown', mouseHandler);\n    };\n  };\n\n  document.addEventListener('mousedown', mouseHandler);\n});\n\nfirstPromise\n  .then(result => createDiv(result, 'success'))\n  .catch(error => createDiv(error, 'warning'));\n\nsecondPromise\n  .then(result => createDiv(result, 'success'))\n  .then(() => thirdPromise)\n  .then(result => createDiv(result, 'success'));\n"]}